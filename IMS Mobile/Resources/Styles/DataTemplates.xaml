<?xml version="1.0" encoding="UTF-8" ?>
<?xaml-comp compile="true" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:Converters="clr-namespace:IMS_Mobile.Converters"
    xmlns:Models="clr-namespace:IMS_Mobile.MVVM.Models">

    <Converters:BuyTConv x:Key="BuyingConverter" />
    <Converters:SellTConv x:Key="SellingConverter" />
    <Converters:TransactionColorConv x:Key="TransactionColorConverter" />

    <!--  buy transaction  -->
    <DataTemplate x:Key="buyTransactions" x:DataType="Models:Transaction">
        <Border
            Margin="0,0,0,5"
            Background="#f1fca4"
            StyleClass="TransactionCardStyle">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Border Grid.Column="0" StyleClass="TransactionIconStyle">
                    <Label
                        FontSize="16"
                        HorizontalOptions="Center"
                        Text="↗"
                        TextColor="#666666"
                        VerticalOptions="Center" />
                </Border>

                <VerticalStackLayout
                    Grid.Column="1"
                    Margin="15,0,0,0"
                    Spacing="2">
                    <Label StyleClass="RegularTextStyle" Text="{Binding Id, StringFormat='Transaction #{0}'}" />
                    <Label StyleClass="SmallTextStyle" Text="{Binding Type}" />
                </VerticalStackLayout>

                <Label
                    Grid.Column="2"
                    FontFamily="poppinbold"
                    FontSize="16"
                    Text="{Binding totalamount, Converter={StaticResource BuyingConverter}}"
                    TextColor="{Binding Type, Converter={StaticResource TransactionColorConverter}}"
                    VerticalOptions="Center" />
            </Grid>
        </Border>
    </DataTemplate>
    <!--  sell transaction  -->
    <DataTemplate x:Key="sellTransactions" x:DataType="Models:Transaction">
        <Border Margin="0,0,0,5" StyleClass="TransactionCardStyle">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Border Grid.Column="0" StyleClass="TransactionIconStyle">
                    <Label
                        FontSize="16"
                        HorizontalOptions="Center"
                        Text="↗"
                        TextColor="#666666"
                        VerticalOptions="Center" />
                </Border>

                <VerticalStackLayout
                    Grid.Column="1"
                    Margin="15,0,0,0"
                    Spacing="2">
                    <Label StyleClass="RegularTextStyle" Text="{Binding Id, StringFormat='Transaction #{0}'}" />
                    <Label StyleClass="SmallTextStyle" Text="{Binding Type}" />
                </VerticalStackLayout>

                <Label
                    Grid.Column="2"
                    FontFamily="poppinbold"
                    FontSize="16"
                    Text="{Binding totalamount, Converter={StaticResource SellingConverter}}"
                    TextColor="{Binding Type, Converter={StaticResource TransactionColorConverter}}"
                    VerticalOptions="Center" />
            </Grid>
        </Border>
    </DataTemplate>

</ResourceDictionary>